{"ast":null,"code":"import _toConsumableArray from\"/Users/maxjones/Flatiron/Code/Mod4/stream-app/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/maxjones/Flatiron/Code/Mod4/stream-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/maxjones/Flatiron/Code/Mod4/stream-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/maxjones/Flatiron/Code/Mod4/stream-app/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import MovieList from'./components/MovieList';import MovieListHeading from'./components/MovieListHeading';import SearchBox from'./components/Searchbox';import AddFavourites from'./components/AddFavourites';import RemoveFavourites from'./components/RemoveFavourites';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),favourites=_useState4[0],setFavourites=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchValue=_useState6[0],setSearchValue=_useState6[1];var getMovieRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchValue){var url,response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=53b0add\");_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;if(responseJson.Search){setMovies(responseJson.Search);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMovieRequest(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getMovieRequest(searchValue);},[searchValue]);useEffect(function(){var movieFavourites=JSON.parse(localStorage.getItem('react-movie-app-favourites'));setFavourites(movieFavourites);},[]);var saveToLocalStorage=function saveToLocalStorage(items){localStorage.setItem('react-movie-app-favourites',JSON.stringify(items));};var addFavouriteMovie=function addFavouriteMovie(movie){var newFavouriteList=[].concat(_toConsumableArray(favourites),[movie]);setFavourites(newFavouriteList);saveToLocalStorage(newFavouriteList);};var removeFavouriteMovie=function removeFavouriteMovie(movie){var newFavouriteList=favourites.filter(function(favourite){return favourite.imdbId!==movie.imdbID;});setFavourites(newFavouriteList);saveToLocalStorage(newFavouriteList);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid movie-app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:[/*#__PURE__*/_jsx(MovieListHeading,{heading:\"Movies\"}),/*#__PURE__*/_jsx(SearchBox,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:movies,handleFavoritesClick:addFavouriteMovie,favouriteComponent:AddFavourites})}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:/*#__PURE__*/_jsx(MovieListHeading,{heading:\"Favourites\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:favourites,handleFavoritesClick:removeFavouriteMovie,favouriteComponent:RemoveFavourites})})]});};export default App;","map":{"version":3,"sources":["/Users/maxjones/Flatiron/Code/Mod4/stream-app/client/src/App.js"],"names":["React","useState","useEffect","MovieList","MovieListHeading","SearchBox","AddFavourites","RemoveFavourites","App","movies","setMovies","favourites","setFavourites","searchValue","setSearchValue","getMovieRequest","url","fetch","response","json","responseJson","Search","movieFavourites","JSON","parse","localStorage","getItem","saveToLocalStorage","items","setItem","stringify","addFavouriteMovie","movie","newFavouriteList","removeFavouriteMovie","filter","favourite","imdbId","imdbID"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport MovieList from './components/MovieList';\nimport MovieListHeading from './components/MovieListHeading';\nimport SearchBox from './components/Searchbox';\nimport AddFavourites from './components/AddFavourites';\nimport RemoveFavourites from './components/RemoveFavourites';\n\n\nconst App = () => {\n  const [movies, setMovies] = useState([]);\n  const [favourites, setFavourites] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n \n  const getMovieRequest = async (searchValue) => {\n    const url = `http://www.omdbapi.com/?s=${searchValue}&apikey=53b0add`;\n  \n    const response = await fetch(url);\n    const responseJson = await response.json();\n\n    if(responseJson.Search) {\n      setMovies(responseJson.Search);\n    }\n  };\n\n  useEffect(() => {\n    getMovieRequest(searchValue);\n  }, [searchValue]);\n\n  useEffect(() => {\n    const movieFavourites = JSON.parse(\n      localStorage.getItem('react-movie-app-favourites')\n    );\n\n    setFavourites(movieFavourites);\n  }, []);\n\n  const saveToLocalStorage = (items) => {\n    localStorage.setItem('react-movie-app-favourites', JSON.stringify(items))\n  };\n\n  const addFavouriteMovie = (movie) => {\n    const newFavouriteList = [...favourites, movie];\n    setFavourites(newFavouriteList); \n    saveToLocalStorage(newFavouriteList);\n  };\n\n  const removeFavouriteMovie = (movie) => {\n    const newFavouriteList = favourites.filter(\n      (favourite) => favourite.imdbId !== movie.imdbID\n    );\n\n    setFavourites(newFavouriteList);\n    saveToLocalStorage(newFavouriteList);\n  };\n\n  return (\n    <div className='container-fluid movie-app'>\n      <div className='row d-flex align-items-center mt-4 mb-4'>\n        <MovieListHeading heading='Movies' />\n        <SearchBox searchValue={searchValue} setSearchValue={setSearchValue}/> \n      </div> \n      <div className='row'>\n        <MovieList \n          movies={movies} \n          handleFavoritesClick={addFavouriteMovie} \n          favouriteComponent={AddFavourites} \n        />  \n      </div>\n      <div className='row d-flex align-items-center mt-4 mb-4'>\n        <MovieListHeading heading='Favourites' />\n      </div> \n      <div className='row'>\n        <MovieList \n          movies={favourites} \n          handleFavoritesClick={removeFavouriteMovie} \n          favouriteComponent={RemoveFavourites} \n        />  \n      </div>\n    </div>\n  );\n};\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}